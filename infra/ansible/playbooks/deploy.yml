---
- name: Deploy TODO Application
  hosts: app_servers
  become: true
  gather_facts: true

  pre_tasks:
    - name: Wait for system to be ready
      wait_for_connection:
        timeout: 300

    - name: Gather facts
      setup:

  roles:
    - dependencies
    - deploy

  post_tasks:
    - name: Display deployment summary
      debug:
        msg:
          - "Deployment completed successfully!"
          - "Application URL: https://{{ domain_name }}"
          - "Server IP: {{ inventory_hostname }}"
          - "SSH Command: ssh {{ ansible_user }}@{{ inventory_hostname }}"